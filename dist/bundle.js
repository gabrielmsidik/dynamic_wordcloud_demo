!function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var o=function(t,e){let i=t.get_x2()<=e.get_x1(),o=t.get_x1()>=e.get_x2(),s=t.get_y2()<=e.get_y1(),r=t.get_y1()>=e.get_y2();return!(i||o||s||r)};let s=["rgb(91, 94, 166)","rgb(119, 33, 46)","navy","rgb(57, 70, 96)","rgb(149, 82, 81)"];function r(t){return t.height>10}function h(t){let e=!0,i=Object.assign([],t);e=!1;for(let t of i)for(let s of i)t.word!==s.word&&o(t,s)&&(e=!0,n(t,s));return i}function n(t,e){let i=t.mid_x-e.mid_x,o=t.mid_y-e.mid_y;i>0?(t.move(1,0),e.move(-1,0)):(t.move(-1,0),e.move(1,0)),o>0?(t.move(0,1),e.move(0,-1)):(t.move(0,-1),e.move(0,1))}function c(t,e){let i=Object.assign([],t);for(let t of i)a(t,i,e);return i}function a(t,e,i){let s=!0,r=!0;const h=i.width/2,n=i.height/2;let c=h-t.mid_x,a=n-t.mid_y,l=!1,d=!1,u=!1,g=!1;if(c<-10&&(d=!0),c>10&&(l=!0),a<-10&&(u=!0),a>10&&(g=!0),s&&d){let i=Object.assign(Object.create(t),t);i.move(-1,0);for(let t of e)t.word!==i.word&&o(t,i)&&(s=!1);s&&t.move(-1,0)}else if(s&&l){let i=Object.assign(Object.create(t),t);i.move(1,0);for(let t of e)t.word!==i.word&&o(t,i)&&(s=!1);s&&t.move(1,0)}else s=!1;if(r&&g){let i=Object.assign(Object.create(t),t);i.move(0,1);for(let t of e)t.word!==i.word&&o(t,i)&&(r=!1);r&&t.move(0,1)}else if(r&&u){let i=Object.assign(Object.create(t),t);i.move(0,-1);for(let t of e)t.word!==i.word&&o(t,i)&&(r=!1);r&&t.move(0,-1)}else r=!1}class l{constructor(t,e,i,o,s,r){this.word=t,this.mid_x=e,this.mid_y=i,this.height=o,this.target_height=o,this.loop_stage=0,this.loop=5,this.color=s,this.canvas=r}move(t,e){this.mid_x=this.mid_x+t,this.mid_y=this.mid_y+e}incrementSize(t){this.target_height=this.target_height+t}decrementSize(t){this.target_height=this.target_height-t}getLength(){return this.height*Math.ceil(this.word.length/3)}get_x1(){return this.mid_x-.5*this.getLength()}get_y1(){return this.mid_y-.5*this.height}get_x2(){return this.mid_x+.5*this.getLength()}get_y2(){return this.mid_y+.5*this.height}getRectangle(){return new d(this.get_x1(),this.get_y1(),this.get_x2(),this.get_y2())}getWordObject(){return new u(this.word,this.get_x1(),this.get_y1(),this.get_x2(),this.get_y2(),this.color,this.canvas)}draw(){if(this.loop_stage=(this.loop_stage+1)%this.loop,0===this.loop_stage){Math.abs(this.target_height-this.height);this.target_height>this.height?this.height+=1:this.target_height<this.height&&(this.height-=1)}this.getWordObject().draw()}}class d{constructor(t,e,i,o){this.x1=t,this.y1=e,this.x2=i,this.y2=o}draw(){ctx.beginPath(),ctx.strokeRect(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1),ctx.stroke(),ctx.closePath()}}class u{constructor(t,e,i,o,s,r,h){this.word=t,this.x1=e,this.y1=i,this.x2=o,this.y2=s,this.color=r,this.canvas=h,this.context=h.getContext("2d")}draw(){const t=.5*(this.x2-this.x1)+this.x1,e=.75*(this.y2-this.y1)+this.y1;let i=Math.floor(.75*(this.y2-this.y1));this.context.font=i+"px Segoe UI Light",this.context.fillStyle=this.color,this.context.textAlign="center";let o=this.context.measureText(this.word),s=o.width;for(;s>this.x2-this.x1;)i-=1,this.context.font=i+"px Segoe UI Light",o=this.context.measureText(this.word),s=o.width;this.context.fillText(this.word,t,e)}}const g=["i","me","my","myself","we","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","a","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very","s","t","can","will","just","don","should","now"];let f=document.getElementById("word_cloud_class_canvas");f.width=.8*innerWidth,f.height=.7*innerHeight;let _=new class{constructor(t){this.canvas=t,this.context=t.getContext("2d"),this.word_objects=[]}update_word_cloud(t,e){this.word_objects=function(t){let e=[],i=t.reduce((t,e)=>t+e.height*e.word.length,0);if(i>2e3)for(let i of t){let t=Object.assign(Object.create(i),i);if(t.target_height<40)t.decrementSize(1);else if(t.target_height<60){let e=Math.floor(.1*t.target_height);t.decrementSize(e)}else{let e=Math.floor(.2*t.target_height);t.decrementSize(e)}e.push(t)}else{if(!(i>1e3))return t;for(let i of t){let t=Object.assign(Object.create(i),i);if(t.target_height<40)t.decrementSize(1);else{let e=Math.floor(.05*t.target_height);t.decrementSize(e)}e.push(t)}}return e}(this.word_objects),this.word_objects=this.word_objects.filter(r),this.word_objects=function(t,e,i,r){let h;h=function(t,e){for(let i of t)if(i.word==e)return!0;return!1}(t,e)?function(t,e,i){let o=[];for(let s of t){let t=Object.assign(Object.create(s),s);t.word==e&&t.incrementSize(2*Math.floor(i)),o.push(t)}return o}(t,e,i):function(t,e,i,r){let h,n=Object.assign([],t),c=!0;for(;c;){let t=.15,d=((1-2*t)*Math.random()+t)*r.width,u=((1-2*t)*Math.random()+t)*r.height;const g=Math.floor(i);c=!1,h=new l(e,d,u,g,(a=s)[Math.floor(Math.random()*a.length)],r);for(let t of n)o(h,t)&&(c=!0)}var a;return n.push(h),n}(t,e,i,r);return h}(this.word_objects,t,e,this.canvas)}display(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.word_objects=h(this.word_objects,this.context),this.word_objects=c(this.word_objects,this.canvas);for(let t of this.word_objects)t.draw()}animate(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.display(),requestAnimationFrame(this.animate.bind(this))}}(f);_.animate();const m=document.querySelectorAll("button")[0],w=document.querySelectorAll("button")[1];m.addEventListener("click",(async function(){let t=y.value;if(document.getElementById("input_text").value="",function(t){return""==t}(t))return;let e=t.replace(/[\[\].,\/#!$%\^&\*;:{}=\-_`~()1234567890]/g,"").split(" ");b=b.concat(e);for(;0!=b.length;){let t=b.shift();t=t.toLowerCase();let e=g.includes(t)?.06*_.canvas.height:.14*_.canvas.height;_.update_word_cloud(t,e),await x(200)}})),w.addEventListener("click",(function(){_.word_objects=[],b=[],document.getElementById("input_text").value="",display()}));const y=document.getElementById("input_text");let b=[];function x(t){return new Promise(e=>setTimeout(e,t))}y.addEventListener("keyup",(function(t){13===t.keyCode&&m.click()}))}]);